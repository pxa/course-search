@import 'main';

@-webkit-keyframes added {
	0%, 100% {
		top: 0;
	}
	50% {
		top: 0.4em;
	}
}

@-webkit-keyframes removed {
	0%, 100% {
		left: 0;
	}
	25% {
		left: -0.25em;
	}
	75% {
		left: 0.25em;
	}
}

.bookmarkAdded {
	position: relative;
	-webkit-animation: added 0.25s 1 ease-out;
}

.bookmarkRemoved {
	position: relative;
	-webkit-animation: removed 0.25s 2 ease-out;
}

html {
	//@include baseline-grid-background;
	background-color: $color-1;
	color: #222;
	font-family: 'Helvetica Neue', Helvetica, sans-serif;
}

.modal-open {
	//position: fixed;
	overflow: hidden;
}

.modal-backdrop {

	background-color: rgba(black, 0.8);
	bottom: 0;
	left: 0;
	position: fixed;
	right: 0;
	top: 0;
	//width: 100%;
	z-index: 1;
	
	//display: none;
	//position: static;
}

.modal {
//background-color: rgba(black, 0.8);
	position: static;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	z-index: 2;
	overflow-y: scroll;
	
	section {
		@include border-radius;
		@include box-shadow(0 3px 7px rgba(0,0,0,0.3));
		background-color: white;
		left: 50%;
		margin: 1em 0 1em -15em;
		position: absolute;
		top: 0;
		width: 30em;
		z-index: 3;
		
		

	
		> * {
			padding: 1em;
		}
	}
	
	header {
		border-bottom: 1px solid $border-color;
		padding: 0 1em;

		h1 {
			color: $color-5;
			font-size: em($m);
		}
	}
	
	footer {
		@include border-bottom-radius;
		@include box-shadow(inset 0 1px #fff);
		background-color: $color-2;
		border-top: 1px solid $border-color;
		
		button {
			@extend .btn;
			line-height: 2em;
		}
	}
}

#courseSearch { // section
	//@include container;
	//@include susy-grid-background;
	
	header {
		$color: $violet;
		$dark: shade($color, 30%);
		$light: tint($color, 60%);
		
		@include box-shadow(0 4px $color-2, 0 5px $color-3);
		background-color: #fff;
		line-height: 3rem;
		position: fixed;
		top: 0;
		width: 100%;
		z-index: 1;
		
		* {
			@include box-sizing(border-box);
		}
		
		> div {
			@include container;
			margin: 0 auto;
		}
		
		h1 {
			@include span-columns(3);
			color: $color-5;
			font-size: em($m);
			margin: 0;
			padding-left: 1rem;
		}
		
		nav {
			@extend %grid;
			@include span-columns(9 omega);
		}
		
		a {
			@extend %grid-item;
			color: $color;
			font-weight: bold;
			padding: 0 1rem;
			text-decoration: none;
			
			&:hover {
				@include box-shadow(0 4px $light, 0 5px $color);
			}
			
			&:active {
				color: $dark;
			}
			
			&.active {
				@include box-shadow(0 4px $color, 0 5px $dark);
				color: $dark;
			}
		}
	}
	
	> div {
		//@include box-shadow(0 0 0 1px $color-7);
		@include container;
		background-color: $color-1;
		padding-bottom: 1em;
		padding-top: px(3) + 5px;
	}
	
	> div > nav {
		@include box-shadow(0 0 0 1px $color-2);
		@include box-sizing(border-box);
		@include span-columns(3);
		background-color: white;
		padding-bottom: 1em;
		
		> div {
			padding: 0 1em;
		}
		
		> div:first-child {
			background-color: #fff;
			border-bottom: 1px solid $color-2;
			padding: 0.5em 1em 1em;
			
			label {
				display: block;
				color: $color-4;
				font-size: em($s);
				text-transform: uppercase;
			}
				
			input {
				@include border-radius;
				@include box-shadow(inset 0 1px 2px $color-3);
				@include box-sizing(border-box);
				border: 1px solid $border-color;
				color: $color-6;
				padding: 0.5em;
				width: 100%;
			}
		}
	}
	
	> div > div {
		@include span-columns(9 omega);
		
		table {
			margin: 1em 0;
		}
		
		nav {
			border-top: 1px solid $color-2;
			margin-top: 1em;
			padding-top: 1em;
		}
	}
}

.facet {
	
	h3 {
		@include adjust-font-size-to($r, 1);
		@include border-top-radius;
		@extend %interactive;
		margin: 1em 0 0;
		padding: 0 0.5em;
		
		&:before {
			content: 'select';
			float: right;
			font-size: em($s);
			font-style: italic;
			font-weight: normal;
		}
		
		& + label {
			border-top: 1px solid transparent;
		}
	}
	
	label {
		border-bottom: 1px solid $color-2;
		color: $color-6;
		cursor: pointer;
		display: block;
		padding-left: 0.5em;
		
		&:hover {
			background-color: $color-2;
			color: $color-7;
			
			&:before {
				@include box-shadow(0 -1px $color-3, 0 1px $color-3);
				background-color: $color-3;
				color: white;
			}
		}
		
		&:before {
			color: $border-color;
			content: '\2715';
			float: right;
			padding: 0 0.5em;
		}
		
		&.active {
			background-color: $color-2;
		}
	}
	
	small {
		color: $color-6;
		float: right;
		margin-right: 1em;
		text-align: right;
	}
	
	input {
		display: none;
	}
}

.modal .facet-group {
	
	> div {
		@include column-count(2);
		@extend .facet;
		
		label {
			
			&:hover {
				@include box-shadow(0 -1px $color-3);
				background-color: $color-3;
				border-color: $color-3;
			}
			
			&:before {
				display: none;
			}
			
			&.active:hover {
				//background-color: $color-3;
			}
			
			&.active {
				//background-color: blue;
			}
		}
		
		input {
			display: inline-block;
			margin-right: 0.5em;
		}
	}
}

.empty {
	$color: $violet;
	$dark: shade($color, 30%);
	$light: tint($color, 60%);
	border-bottom: 1px solid $color-2;
	
	h1 {
		color: $color-4;
		margin-top: 2em;
	}
	
	p {
		color: $color-5;
		font-size: em($m);
		margin-bottom: 2em;
	}
	
	a {
		color: $color;

		&:hover {
			color: $dark;
		}
	}
	
	.bookmark:before {
		content: '\2605';
		color: $light;
		padding: 0 0.25em;
	}
}

.results {
	
	> p {
		border-bottom: 1px solid $color-2;
		color: $color-5;
	}
	
	ol {
		list-style-type: none;
		margin: 0 1em 0 0;
		padding: 0;
	}
	
	li {
		
		+ li {
			margin-top: 1em;
		}
		
		> div {
		
			> div {
				@include border-bottom-radius;
				border: 1px solid $color-2;
				border-top-width: 0;
				padding: 1em;
				
				> div {
					float: right;
					
					label {
						@extend %bookmark;
					}
					
					a {
						font-size: em($s);
					}
					
					> * + * {
						margin-left: 0.5em;
					}
				}
			}
			
			> a h2:hover {
				//@include box-shadow(0 0 0 1px $color-3);
				//background-color: $cream;
				//border-color: $violet;
				border-color: $color-3;
				
				span:first-child {
					//background-color: $color-3;
				}
				
				> * {
					//color: $violet;
				}
			}
		}
		
		p {
			font-size: em($s);
			line-height: 1.5;
			margin: 1rem 0 0 0;
		}
	}
	
	h2 {
		@extend %grid;
		@include border-top-radius;
		background-color: #fff;
		border: 1px solid $color-2;
		font-size: em($r);
		font-weight: normal;
		line-height: 2;
		margin: 0;
		padding-right: 6em;
		position: relative;
		
		> * {
			@extend %grid-item;
		}
		
		span:first-child { // Campus
			@include border-top-left-radius;
			@include text-shadow;
			background-color: $color-2;
			color: $color-5;
			padding: 0 0.5em;
		}
		
		strong, strong + span { // Course Number, Course Name
			color: $color-7;
			padding-left: 0.5em;
		}
		
		small { // Credits
			color: #333;
			display: block;
			font-size: em($s);
			font-weight: bold;
			line-height: 2rem;
			right: 0.5rem;
			text-align: right;
			top: 0;
			position: absolute;
			width: 5.5rem;
		}
		
		div { // Temp hack until data gets better
			display: inline;
		}
	}
	
	dl {
		@extend %grid;
		//margin: 1em;
		//letter-spacing: 0.5em * 0.62; // Renders as 1em. Odd.
	}

	dt {
		display: none;
	}
	
	dd {
		@extend %grid-item;
		@include border-radius;
		background-color: #fff;
		border: 1px solid $color-3;
		color: $color-5;
		font-size: em($s);
		font-style: normal;
		margin: 0;
		padding: 0 0.5em;
		position: relative;
		
		& + dd {
			margin-left: 0.5rem;
		}
		
		&:after {
			content: attr(data-placeholder);
			opacity: 0;
		}
		
		&.notOffered {
			border-style: dashed;
		}
		
		&.upcomingOffering {
			background-color: $cream;
		}
		
		span {
			left: 0;
			position: absolute;
			text-align: center;
			width: 100%;
		}
	}
	
	.undo {
		
		a {
			
			&:hover h2 {
				background-color: #fff;
			}
		}
		
		h2 {
			@include border-radius;
			background-color: transparent;
			
			> *, > *:first-child {
				color: $color-3;
			}
			
			small {
				color: $violet;
			}
		}
	}
}

%bookmark { // label
	$color: $violet;
	$dark: shade($color, 30%);
	$light: tint($color, 60%);
	
	@include border-radius;
	@include inline-block;
	border: 1px solid $light;
	color: $dark;
	font-size: em($s);
	padding: 0 0.5em;
	vertical-align: top;
	
	input {
		display: none;
	}
		
	&:hover {
		background-color: $light;
		cursor: pointer;
		
		&:before {
			@include text-shadow(none);
			color: #FFF;
		}
	}
	
	&:before {
		@include text-shadow;
		content: '\2606';
		color: $light;
		//margin-right: 0.25em;
	}
	
	&.active {
		background-color: $light;
		
		&:hover:before {
			@include text-shadow;
		}
		
		&:before {
			content: '\2605';
			color: $color;
		}
	}
}