<nav class="search-results">
	
	<div>
		<h2>Criteria</h2>
		<p ng-repeat="facet in selectedFacets">{{facet.label}}</p>
		<a href="#/search">Change search criteria</a>
	</div>
	
	<div>
		<h2>Search</h2>
		<div class="searchbox">
			<input id="searchInput" ng-model="search.query" placeholder="{{search.placeholder}}" />
			<button ng-click="searchCourses()">Go</button>
		</div>
	</div>
	
	<div>
		<h2>Filters</h2>
		<div ng-repeat="facetGroup in search.facets">
			<h3 ng-click="openFacetGroupDialog(facetGroup)">{{facetGroup.label}}</h3>
			<label ng-repeat="facet in facetGroup.facets | filter:{ value:true }">
				<input type="checkbox" ng-model="facet.value" />
				{{facet.label}}
				<small>{{facet.count}}</small>
			</label>
		</div>
	</div>
	
</nav>

<div ng-switch="course.count">

	<div ng-switch-when="0" class="empty">
		<h1>No results</h1>
		<p>Try widening your search or <a href="#/search">start over</a>.</p>
	</div>

	<div ng-switch-default class="results">
	
		<p><span ng-show="numberOfPages > 1">Page {{currentPage}} of </span>{{search.count}}
			<span ng-pluralize count="courses.count" when="{ 'one': 'result', 'other': 'results' }"></span>
		</p>
		
		<ol>
			<li ng-repeat="course in search.results">
				<div ng-include="'partials/course.item.html'"></div>
			</li>
		</ol>
	
		<pagination boundary-links="true" num-pages="numberOfPages" current-page="currentPage" max-size="maxPageSize"></pagination>
	
	</div>
	
</div>